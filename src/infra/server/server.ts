import express, { NextFunction, Request, Response } from "express"
import { routes } from "./routes";

const app = express();

app.use(express.json());

app.use(routes)

app.use((err: Error, req: Request, res: Response, next: NextFunction) => {
  if (err instanceof Error) {
    return res.status(400).json({
      message: err.message,
    })
  }

  return res.status(500).json({
    status: 'error',
    message: `Internal server error - ${err}`,
  })
})

app.listen(process.env.PORT, () => console.log("üü¢ Server Running!"));

/*
‚†Ñ‚††‚¢Ä‚†ê‚°Ä‚¢ê‚†ê‚†ê‚†Ñ‚†Ç‚†ê‚†Ñ‚†Ç‚†ê‚†Ñ‚†ê‚†Ñ‚†Ç‚†ê‚†à‚††‚†ë‚†®‚†¢‚°ä‚†î‚°ê‚†Ñ
‚†Ñ‚†Ç‚††‚†ê‚†Ñ‚†Ñ‚°Ä‚†Ñ‚†Ç‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ç‚†Ñ‚†Ñ‚†Ñ‚¢Ä‚†Ñ‚°Ä‚†Ñ‚†à‚†®‚††‚°Å
‚†Ñ‚†à‚†Ñ‚†Ñ‚°Ä‚¢Ç‚††‚†ê‚¢Ä‚†Ç‚††‚†à‚†Ñ‚†Ç‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†à‚†Ñ‚††‚†Ñ‚†Ç‚°Ä‚†Ñ‚†à‚†ê
‚†Ñ‚†Ñ‚†Ñ‚°Ç‚°ê‚††‚°Ç‚†Ö‚°Ç‚†å‚°ê‚†à‚†Ñ‚†®‚¢Ä‚†Ç‚°Å‚†å‚††‚°Å‚°Ç‚†Ö‚†å‚†Ñ‚¢Ç‚††‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚¢Ç‚†¢‚¢®‚£∂‚°æ‚¢∑‚£¶‚°Ö‚°Ç‚†Ö‚°°‚¢Å‚†Ç‚°Ç‚°Ç‚¢Ö‚¢ë‚£¥‚£æ‚†æ‚£Æ‚£å‚¢ê‚††‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚¢Ç‚¢ä‚¢ø‚°è‚†°‚†Ç‚¢Ω‚°ó‚¢å‚¢Ç‚†¢‚°Å‚†™‚°ê‚†Ñ‚¢ï‚¢∏‚£ø‚†ë‚†°‚¢∏‚°ø‚¢ê‚†®‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚†Ö‚°¢‚°ô‚†ø‚£æ‚¢º‚†ü‚°ï‚°ë‚¢î‚†°‚°ä‚¢å‚†¢‚°ë‚°ë‚°å‚°ª‚¢∑‚¢∑‚†ü‚¢ç‚†¢‚°Å‚†Ç‚†Ñ
‚†Ñ‚†Ñ‚†å‚°Ç‚°™‚°ë‚°Ü‚£á‚££‚£±‚£∏‚£∞‚£±‚£ú‚£¨‚£™‚£¨‚£¶‚££‚£é‚£ñ‚£î‚£ï‚¢Ö‚¢ï‚†®‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚°ë‚£¨‚£∫‚°æ‚£ø‚£ø‚£ª‚£Ø‚£ø‚£ü‚£ø‚£Ω‚£ø‚£ª‚£ø‚£æ‚¢ø‚£ª‚£ø‚£ª‚£Ø‚£ø‚£≤‚¢Ö‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚¢™‚¢ó‚£Ø‚°è‚†ô‚£Ø‚£ø‚£Ø‚£∑‚£ø‚£ø‚£Ω‚£æ‚£ø‚¢∑‚£ø‚°ø‚£ø‚£ª‚†ù‚¢ì‚°∑‚°Ø‚°£‚†Ñ‚†Å
‚†Ñ‚†Ñ‚†à‚¢ù‚¢û‚°ø‚£¶‚°Ä‚†ô‚†Ø‚¢ø‚¢∑‚£ø‚£Ω‚¢ø‚£æ‚¢ø‚°Ø‚°ü‚†è‚¢Å‚¢§‚°ø‚°ù‚°ï‚†Å‚†Ñ‚°Ä
‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†ë‚†ù‚£ó‚£ü‚°∑‚£§‚£Ä‚£Å‚†à‚†à‚†â‚†ä‚£Å‚°†‚£§‚¢∂‚£ª‚¢Ω‚†±‚†ë‚†Ñ‚†Ñ‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†ê‚†∏‚†π‚†Ω‚°Ω‚£Ω‚£ª‚£ª‚£ü‚£ü‚£∑‚£ª‚¢Ω‚¢´‚†£‚†É‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Å
‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†à‚†Å‚†£‚¢£‚¢ì‚¢ó‚¢≥‚¢π‚¢∏‚†∏‚†à‚°Ä‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ
‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†ÑI CAN SEE YOU‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ
*/